<mat-list class="d-flex flex-column">
    @for (item of listItems; track $index) {
    @if(item.isHeading) {
    <ng-container [ngTemplateOutlet]="listHeadingTmp || deafultListHeadingTmp"
        [ngTemplateOutletContext]="{listItem: item}">
    </ng-container>
    } @else {
    <ng-container [ngTemplateOutlet]="listItemTmp || deafultListItemTmp" [ngTemplateOutletContext]="{listItem: item}">
    </ng-container>
    }
    }
</mat-list>

<ng-template #deafultListHeadingTmp let-item="listItem">
    <div class="d-flex align-items-center border-0 border-bottom p-2" (click)="item.isCollapsed=!item.isCollapsed">
        <p class="text-truncate mb-0">{{item.title}}</p>
    </div>
    @if (!item.isCollapsed) {
    <lgf-furnishing-list class="pt-2" [listItems]="item.submenu" [collapse]="item.isCollapsed">
    </lgf-furnishing-list>
    }
</ng-template>

<ng-template #deafultListItemTmp let-item="listItem">
    <div class="d-flex align-items-center border-0 border-bottom p-2" (click)="item.isCollapsed=!item.isCollapsed">
        <p class="text-truncate mb-0">{{item.title}}</p>
    </div>
</ng-template>